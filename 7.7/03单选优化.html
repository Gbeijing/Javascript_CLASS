<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>与非最美,周超最帅.挺有缘</h1>
    <h1>与非最美,周超最帅.挺有缘</h1>
    <h1>与非最美,周超最帅.挺有缘</h1>
    <h1>与非最美,周超最帅.挺有缘</h1>
    <h1>与非最美,周超最帅.挺有缘</h1>
    <script>
        // var h1s = document.getElementsByTagName('h1')
        // // =========>给每一个h1标签绑定点击事件
        // for( var i= 0 ,len=h1s.length; i<len;i++){
        //     (function () {
        //     var flag = true
        //     h1s[i].onclick = function () {
        //         //BUG btn[i] 不存在,因为异步,这里的程序比for循环还慢 
        //         // (flag = !flag) ? h1s[i].style.color = 'red' : h1s[i].style.color = 'blue' 
        //         //需求:找到被点击元素==========>this
        //         this.style.color = 'red'
        //     }
        // })()
        // }

        //*********思路1=========>this
        // var h1s = document.getElementsByTagName('h1')
        // for (var i = 0, len = h1s.length; i < len; i++) {
        //     (function () {
        //         var flag = true;
        //         h1s[i].onclick = function () {
        //             (flag = !flag) ? (this.style.color = 'red') : (this.style.color = 'blue')

        //         }
        //     })()
        // }

        //*********思路2=========>  var x = i
        // var h1s = document.getElementsByTagName('h1')
        // for (var i = 0, len = h1s.length; i < len; i++) {
        //     (function () {
        //         var flag = true;
        //         var x  = i  //解决变量污染   全局i= 5 的问题
        //         h1s[x].onclick = function () {
        //             (flag = !flag) ? (h1s[x].style.color = 'red') : (h1s[x].style.color = 'blue')  
        //         }
        //     })()
        // }

        //***************思路3=============>对象添加私属性方式,没有闭包
        var h1s = document.getElementsByTagName('h1')
        for (var i = 0, len = h1s.length; i < len; i++) {
            // 给5个对象分别添加私有属性flag,并赋值true
            h1s[i].flag = true;
            var flag = true;
            //  给5个 h1 dom对象;分别添加私有属性i,并赋值不同的初始值
            h1s[i].i = i;
            h1s[i].onclick = function () {
                (this.flag = !this.flag) ? (h1s[this.i].style.color = 'red') : (h1s[this.i].style.color = 'blue')
            }

        }
    </script>

</body>
.
</html>